{
  "LOG": false,
  "LOG_LEVEL": "info",
  "CLAUDE_PATH": "",
  "HOST": "127.0.0.1",
  "PORT": 3456,
  "APIKEY": "sk-anything",
  "API_TIMEOUT_MS": "600000",
  "PROXY_URL": "",
  "Providers": [
    {
      "name": "haiku",
      "api_base_url": "https://api.minimaxi.com/anthropic/v1/messages",
      "api_key": "YOUR_API_KEY",
      "models": ["MiniMax-M2"]
    },
    {
      "name": "sonnet",
      "api_base_url": "https://api.minimaxi.com/anthropic/v1/messages",
      "api_key": "YOUR_API_KEY",
      "models": ["MiniMax-M2"]
    },
    {
      "name": "opus",
      "api_base_url": "https://api.minimaxi.com/anthropic/v1/messages",
      "api_key": "YOUR_API_KEY",
      "models": ["MiniMax-M2"]
    },
    {
      "name": "claude",
      "api_base_url": "https://api.minimaxi.com/anthropic/v1/messages",
      "api_key": "YOUR_API_KEY",
      "models": ["MiniMax-M2"]
    },
    {
      "name": "unknown",
      "api_base_url": "https://api.minimaxi.com/anthropic/v1/messages",
      "api_key": "YOUR_API_KEY",
      "models": ["MiniMax-M2"]
    }
  ],
  "Router": {
    "engine": "unified",
    "defaultRoute": "sonnet,MiniMax-M2",
    "rules": [
      {
        "name": "longContext",
        "priority": 100,
        "enabled": true,
        "condition": {
          "type": "tokenThreshold",
          "value": 60000,
          "operator": "gt"
        },
        "action": {
          "route": "sonnet,MiniMax-M2",
          "transformers": [],
          "description": "长上下文路由：基于token阈值选择模型"
        }
      },
      {
        "name": "subagent",
        "priority": 90,
        "enabled": true,
        "condition": {
          "type": "fieldExists",
          "field": "system.1.text",
          "operator": "contains",
          "value": "<CCR-SUBAGENT-MODEL>"
        },
        "action": {
          "route": "${subagent}",
          "transformers": [],
          "description": "子代理路由：通过特殊标记选择模型"
        }
      },
      {
        "name": "background",
        "priority": 80,
        "enabled": true,
        "condition": {
          "type": "modelContains",
          "value": "haiku",
          "operator": "contains"
        },
        "action": {
          "route": "haiku,MiniMax-M2",
          "transformers": [],
          "description": "后台路由：Haiku模型自动使用轻量级模型"
        }
      },
      {
        "name": "webSearch",
        "priority": 70,
        "enabled": true,
        "condition": {
          "type": "toolExists",
          "value": "web_search",
          "operator": "exists"
        },
        "action": {
          "route": "sonnet,MiniMax-M2",
          "transformers": [],
          "description": "网络搜索路由：检测到web_search工具时使用特定模型"
        }
      },
      {
        "name": "thinking",
        "priority": 60,
        "enabled": true,
        "condition": {
          "type": "fieldExists",
          "field": "thinking",
          "operator": "exists"
        },
        "action": {
          "route": "opus,MiniMax-M2",
          "transformers": [],
          "description": "思考模式路由：检测thinking参数时使用特定模型"
        }
      },
      {
        "name": "directMapping",
        "priority": 50,
        "enabled": true,
        "condition": {
          "type": "custom",
          "customFunction": "directModelMapping"
        },
        "action": {
          "route": "${mappedModel}",
          "transformers": [],
          "description": "代号映射：将provider作为代号，映射到对应的model模型"
        }
      },
      {
        "name": "userSpecified",
        "priority": 40,
        "enabled": true,
        "condition": {
          "type": "custom",
          "customFunction": "modelContainsComma"
        },
        "action": {
          "route": "${userModel}",
          "transformers": [],
          "description": "用户指定路由：用户在请求中直接指定provider,model格式"
        }
      }
    ],
    "cache": {
      "enabled": true,
      "maxSize": 1000,
      "ttl": 300000
    },
    "debug": {
      "enabled": true,
      "logLevel": "debug",
      "logToFile": false,
      "logToConsole": true
    },
    "contextThreshold": {
      "default": 1000,
      "longContext": 60000
    }
  },
  "transformers": []
}